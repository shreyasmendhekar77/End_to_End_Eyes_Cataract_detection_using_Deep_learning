schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier_Eye/pipeline/stage_01_data_ingeation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: d9935cd133dd97d6123b648bcb8e4d88
      size: 679
    - path: src/cnnClassifier_Eye/pipeline/stage_01_data_ingeation.py
      hash: md5
      md5: ef42a3f045b7eface3da43d0bf50876f
      size: 933
    outs:
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: eb48368e1208cc6b6ae3a9e2c3559f41.dir
      size: 409053147
      nfiles: 491
  prepare_base_model:
    cmd: python src/cnnClassifier_Eye/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: d9935cd133dd97d6123b648bcb8e4d88
      size: 679
    - path: src/cnnClassifier_Eye/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 601709bfce48a131dbc1f87d42ad9119
      size: 951
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
        model_name: ResNet50
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 218281cb89d67d9ba9c3d891d360fcfd.dir
      size: 190540712
      nfiles: 2
  training:
    cmd: python src/cnnClassifier_Eye/pipeline/stage_03_model_train.py
    deps:
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: eb48368e1208cc6b6ae3a9e2c3559f41.dir
      size: 409053147
      nfiles: 491
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 218281cb89d67d9ba9c3d891d360fcfd.dir
      size: 190540712
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: d9935cd133dd97d6123b648bcb8e4d88
      size: 679
    - path: src/cnnClassifier_Eye/pipeline/stage_03_model_train.py
      hash: md5
      md5: 41f5fde208e4afbc072a6e2254d3e261
      size: 911
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 10
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 0fb65208aeaa62fe8a3efd4cc55a3601
      size: 97286656
  evaluation:
    cmd: python src/cnnClassifier_Eye/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: eb48368e1208cc6b6ae3a9e2c3559f41.dir
      size: 409053147
      nfiles: 491
    - path: artifacts/training/model.h5
      hash: md5
      md5: 0fb65208aeaa62fe8a3efd4cc55a3601
      size: 97286656
    - path: config/config.yaml
      hash: md5
      md5: d9935cd133dd97d6123b648bcb8e4d88
      size: 679
    - path: src/cnnClassifier_Eye/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 2b78fdbeccf8ab222b529b8ad1d04460
      size: 1165
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 51375aa8be9076f79fd268ef530449d5
      size: 72
